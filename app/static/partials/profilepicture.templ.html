<md-dialog aria-label="Profile picture" ng-cloak>
  <form>
    <md-toolbar>
      <div class="md-toolbar-tools">
        <h2>Upload profile picture</h2>
        <span flex></span>
        <md-button class="md-icon-button" ng-click="cancel()">
          
          <md-icon class="material-icons">close</md-icon>
        </md-button>
      </div>
    </md-toolbar>
    <md-dialog-content layout-padding layout-margin>
      <div class="md-dialog-content">
        <h2>Crop to desired size</h2>
        <div>
          <input type="file" id="fileInput" onchange="angular.element(this).scope().fileSelected(this.files[0])" class="ng-hide"/>
          <md-button id="uploadButton" class="md-raised md-primary" aria-label="attach_file" ng-click="selectFile()">Choose file </md-button>
          <md-input-container  md-no-float>    
            <input id="textInput" ng-model="fileName" type="text" placeholder="No file chosen" ng-readonly="true">
          </md-input-container>
        </div>
        <div class="cropArea">
          <img-crop image="myImage" result-image="myCroppedImage"></img-crop>
        </div>
        <!-- <div>Cropped Image:</div>
        <div><img ng-src="{{myCroppedImage}}" /></div> -->
      </div>
    </md-dialog-content>
    <md-dialog-actions class="md-actions" layout="row">
      <span flex></span>
      <md-button ng-click="answer('Hooray!')">
        Submit
      </md-button>
      <md-button ng-click="cancel()" style="margin-right:20px;">
        Cancel
      </md-button>
    </md-dialog-actions>
  </form>
</md-dialog>